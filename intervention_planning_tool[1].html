<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3-Step Intervention Planning Tool - Veritas Visionaries</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a5f3f, #2d7d54);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .header {
            background: linear-gradient(135deg, #1a5f3f, #2d7d54);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 12px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-size: 24px;
            font-weight: bold;
            color: #1a5f3f;
        }

        .brand-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .intro {
            background: #f8f9fa;
            border-left: 4px solid #1a5f3f;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 6px;
        }

        .step-container {
            background: white;
            border: 2px solid #1a5f3f;
            border-radius: 12px;
            margin: 30px 0;
            overflow: hidden;
        }

        .step-header {
            background: #1a5f3f;
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .step-number {
            background: white;
            color: #1a5f3f;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .step-content {
            padding: 25px;
        }

        .assessment-section {
            background: #f0f8f4;
            border: 1px solid #2d7d54;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .assessment-section h4 {
            color: #1a5f3f;
            margin-bottom: 15px;
        }

        .severity-scale {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .severity-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 80px;
        }

        .severity-option:hover {
            background: #e9ecef;
        }

        .severity-option.selected {
            background: #1a5f3f;
            color: white;
            border-color: #2d7d54;
        }

        .severity-option.low { border-color: #28a745; }
        .severity-option.medium { border-color: #ffc107; }
        .severity-option.high { border-color: #dc3545; }
        .severity-option.critical { border-color: #6f42c1; }

        .severity-option.low.selected { background: #28a745; }
        .severity-option.medium.selected { background: #ffc107; color: #000; }
        .severity-option.high.selected { background: #dc3545; }
        .severity-option.critical.selected { background: #6f42c1; }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            font-weight: 600;
            color: #2d7d54;
            margin-bottom: 8px;
        }

        .input-group textarea {
            width: 100%;
            min-height: 100px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 12px;
            font-family: inherit;
            font-size: 1rem;
            line-height: 1.5;
            resize: vertical;
        }

        .input-group textarea:focus {
            outline: none;
            border-color: #1a5f3f;
        }

        .input-group select {
            width: 100%;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 12px;
            font-family: inherit;
            font-size: 1rem;
        }

        .input-group select:focus {
            outline: none;
            border-color: #1a5f3f;
        }

        .intervention-matrix {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .intervention-card {
            background: white;
            border: 2px solid #1a5f3f;
            border-radius: 8px;
            padding: 20px;
        }

        .intervention-card h5 {
            color: #1a5f3f;
            margin-bottom: 10px;
        }

        .intervention-card.selected {
            background: #f0f8f4;
            border-color: #2d7d54;
        }

        .timeline-input {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .timeline-item {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 15px;
        }

        .timeline-item h5 {
            color: #1a5f3f;
            margin-bottom: 8px;
        }

        .timeline-item input {
            width: 100%;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 8px;
            font-family: inherit;
        }

        .warning-indicators {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .warning-indicators h4 {
            color: #856404;
            margin-bottom: 15px;
        }

        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            margin: 10px 0;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .checklist li:hover {
            background: #e9ecef;
        }

        .checklist li.checked {
            background: #d4edda;
            color: #155724;
        }

        .checklist li::before {
            content: '☐ ';
            margin-right: 8px;
        }

        .checklist li.checked::before {
            content: '☑ ';
            color: #28a745;
        }

        .action-plan {
            background: #e8f5e8;
            border: 2px solid #1a5f3f;
            border-radius: 8px;
            padding: 25px;
            margin: 30px 0;
        }

        .action-plan h3 {
            color: #1a5f3f;
            margin-bottom: 20px;
        }

        .emergency-box {
            background: #f8d7da;
            border: 2px solid #dc3545;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            color: #721c24;
        }

        .emergency-box h4 {
            color: #721c24;
            margin-bottom: 10px;
        }

        .btn {
            background: linear-gradient(135deg, #1a5f3f, #2d7d54);
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px 10px 0;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-danger {
            background: #dc3545;
        }

        .results-section {
            display: none;
            background: #f0f8f4;
            border: 2px solid #1a5f3f;
            border-radius: 8px;
            padding: 25px;
            margin: 30px 0;
        }

        .results-section h3 {
            color: #1a5f3f;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .intervention-matrix {
                grid-template-columns: 1fr;
            }
            
            .timeline-input {
                grid-template-columns: 1fr;
            }
            
            .severity-scale {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">V</div>
            <div class="brand-text">Veritas Visionaries</div>
            <h1>3-Step Intervention Planning Tool</h1>
            <div class="subtitle">Systematic Approach to Addressing Problematic Patterns</div>
        </div>

        <div class="content">
            <div class="intro">
                <h3>About Intervention Planning</h3>
                <p>When you notice concerning patterns in your workplace—whether it's harassment-adjacent behaviors, escalating conflicts, or toxic dynamics—having a systematic approach helps you respond appropriately and effectively. This tool guides you through assessing the situation, choosing the right intervention, and planning follow-up.</p>
                <p><strong>Important:</strong> This tool is for workplace behavioral issues. For immediate safety concerns or legal violations, contact HR or appropriate authorities immediately.</p>
            </div>

            <!-- Step 1: Assess -->
            <div class="step-container">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div>
                        <h2>ASSESS the Situation</h2>
                        <p>Gather information and evaluate the scope and severity</p>
                    </div>
                </div>
                <div class="step-content">
                    <div class="assessment-section">
                        <h4>Situation Description</h4>
                        <div class="input-group">
                            <label>Describe the concerning behavior or pattern:</label>
                            <textarea id="situationDescription" placeholder="Be specific about what you've observed. Include dates, locations, and people involved..."></textarea>
                        </div>
                        <div class="input-group">
                            <label>Who is involved?</label>
                            <textarea id="peopleInvolved" placeholder="List the individuals involved and their roles..."></textarea>
                        </div>
                        <div class="input-group">
                            <label>How long has this been occurring?</label>
                            <select id="duration">
                                <option value="">Select timeframe</option>
                                <option value="first-time">First occurrence</option>
                                <option value="few-days">A few days</option>
                                <option value="weeks">Several weeks</option>
                                <option value="months">Months</option>
                                <option value="ongoing">Ongoing pattern</option>
                            </select>
                        </div>
                    </div>

                    <div class="assessment-section">
                        <h4>Severity Assessment</h4>
                        <p>Select the severity level that best describes this situation:</p>
                        <div class="severity-scale">
                            <div class="severity-option low" data-level="low">
                                <strong>Low</strong><br>
                                <small>Minor issues, isolated incidents</small>
                            </div>
                            <div class="severity-option medium" data-level="medium">
                                <strong>Medium</strong><br>
                                <small>Recurring problems, affecting team</small>
                            </div>
                            <div class="severity-option high" data-level="high">
                                <strong>High</strong><br>
                                <small>Serious issues, multiple people affected</small>
                            </div>
                            <div class="severity-option critical" data-level="critical">
                                <strong>Critical</strong><br>
                                <small>Immediate action required</small>
                            </div>
                        </div>
                    </div>

                    <div class="warning-indicators">
                        <h4>⚠️ Warning Sign Checklist</h4>
                        <p>Check any that apply to this situation:</p>
                        <ul class="checklist" id="warningChecklist">
                            <li data-warning="emotional-manipulation">Emotional manipulation or guilt-tripping</li>
                            <li data-warning="public-criticism">Public criticism or humiliation</li>
                            <li data-warning="inconsistent-treatment">Inconsistent treatment of different people</li>
                            <li data-warning="micromanaging">Excessive micromanaging or control</li>
                            <li data-warning="isolation">Isolating individuals from information or opportunities</li>
                            <li data-warning="reactive-meetings">Pattern of crisis-driven, reactive meetings</li>
                            <li data-warning="intimidation">Intimidating behavior or implied threats</li>
                            <li data-warning="boundary-violations">Inappropriate boundary violations</li>
                            <li data-warning="retaliation">Retaliation against those who speak up</li>
                            <li data-warning="stress-symptoms">Physical stress symptoms in staff</li>
                        </ul>
                    </div>

                    <div class="assessment-section">
                        <h4>Impact Assessment</h4>
                        <div class="input-group">
                            <label>How is this affecting individuals?</label>
                            <textarea id="individualImpact" placeholder="Consider stress levels, performance, morale, attendance..."></textarea>
                        </div>
                        <div class="input-group">
                            <label>How is this affecting the team/organization?</label>
                            <textarea id="organizationalImpact" placeholder="Consider productivity, culture, turnover, reputation..."></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Address -->
            <div class="step-container">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div>
                        <h2>ADDRESS with Appropriate Intervention</h2>
                        <p>Choose the right level of response based on your assessment</p>
                    </div>
                </div>
                <div class="step-content">
                    <div class="intervention-matrix">
                        <div class="intervention-card" data-intervention="informal-conversation">
                            <h5>🗣️ Informal Conversation</h5>
                            <p><strong>Best for:</strong> Minor issues, first occurrences, misunderstandings</p>
                            <p><strong>Approach:</strong> Private, supportive discussion using SBI-C model</p>
                        </div>

                        <div class="intervention-card" data-intervention="formal-meeting">
                            <h5>📋 Formal Meeting</h5>
                            <p><strong>Best for:</strong> Recurring issues, need for documentation, policy violations</p>
                            <p><strong>Approach:</strong> Structured meeting with clear expectations and consequences</p>
                        </div>

                        <div class="intervention-card" data-intervention="mediation">
                            <h5>🤝 Mediation</h5>
                            <p><strong>Best for:</strong> Conflicts between multiple parties, relationship issues</p>
                            <p><strong>Approach:</strong> Neutral third party facilitates resolution</p>
                        </div>

                        <div class="intervention-card" data-intervention="training">
                            <h5>📚 Training/Coaching</h5>
                            <p><strong>Best for:</strong> Skill gaps, awareness issues, professional development needs</p>
                            <p><strong>Approach:</strong> Educational intervention and skill building</p>
                        </div>

                        <div class="intervention-card" data-intervention="policy-enforcement">
                            <h5>📜 Policy Enforcement</h5>
                            <p><strong>Best for:</strong> Clear policy violations, repeated offenses</p>
                            <p><strong>Approach:</strong> Progressive discipline according to policies</p>
                        </div>

                        <div class="intervention-card" data-intervention="hr-escalation">
                            <h5>🏢 HR/Legal Escalation</h5>
                            <p><strong>Best for:</strong> Serious violations, legal concerns, safety issues</p>
                            <p><strong>Approach:</strong> Involve HR, legal counsel, or external authorities</p>
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Selected Intervention Strategy:</label>
                        <textarea id="selectedIntervention" placeholder="Describe your chosen approach and rationale..." readonly></textarea>
                    </div>

                    <div class="input-group">
                        <label>Specific actions you will take:</label>
                        <textarea id="specificActions" placeholder="What exactly will you do? When? Where? Who needs to be involved?"></textarea>
                    </div>

                    <div class="input-group">
                        <label>Key messages you want to communicate:</label>
                        <textarea id="keyMessages" placeholder="What are the main points you need to convey?"></textarea>
                    </div>

                    <div class="input-group">
                        <label>Resources or support needed:</label>
                        <textarea id="resourcesNeeded" placeholder="HR support, policy documents, training materials, etc."></textarea>
                    </div>
                </div>
            </div>

            <!-- Step 3: Follow-up -->
            <div class="step-container">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div>
                        <h2>FOLLOW-UP and Monitor Progress</h2>
                        <p>Ensure accountability and sustained improvement</p>
                    </div>
                </div>
                <div class="step-content">
                    <div class="timeline-input">
                        <div class="timeline-item">
                            <h5>📅 Immediate Follow-up</h5>
                            <label>Within 24-48 hours:</label>
                            <input type="text" id="immediateFollowup" placeholder="Document conversation, send summary email...">
                        </div>

                        <div class="timeline-item">
                            <h5>📅 Short-term Check-in</h5>
                            <label>Within 1-2 weeks:</label>
                            <input type="text" id="shortTermFollowup" placeholder="Check on behavior changes, gather feedback...">
                        </div>

                        <div class="timeline-item">
                            <h5>📅 Medium-term Review</h5>
                            <label>Within 1 month:</label>
                            <input type="text" id="mediumTermFollowup" placeholder="Formal progress review, assess impact...">
                        </div>

                        <div class="timeline-item">
                            <h5>📅 Long-term Monitoring</h5>
                            <label>Ongoing:</label>
                            <input type="text" id="longTermFollowup" placeholder="Regular check-ins, culture assessment...">
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Success indicators (How will you know it's working?):</label>
                        <textarea id="successIndicators" placeholder="Specific behaviors, feedback, metrics that indicate improvement..."></textarea>
                    </div>

                    <div class="input-group">
                        <label>What will you do if the intervention doesn't work?</label>
                        <textarea id="backupPlan" placeholder="Next level of intervention, escalation procedures..."></textarea>
                    </div>

                    <div class="input-group">
                        <label>Documentation plan:</label>
                        <textarea id="documentationPlan" placeholder="What records will you keep? Where? Who has access?"></textarea>
                    </div>
                </div>
            </div>

            <div class="emergency-box">
                <h4>🚨 When to Escalate Immediately</h4>
                <ul>
                    <li><strong>Safety concerns:</strong> Any threat of violence or harm</li>
                    <li><strong>Legal violations:</strong> Discrimination, harassment, illegal activities</li>
                    <li><strong>Policy violations:</strong> Serious breaches requiring immediate action</li>
                    <li><strong>Crisis situations:</strong> Situations that could cause immediate harm to individuals or organization</li>
                </ul>
                <p><strong>Emergency contacts:</strong> HR Department, Legal Counsel, Administration, Local Authorities (if safety concern)</p>
            </div>

            <div class="action-plan">
                <h3>Your Intervention Action Plan</h3>
                <button class="btn" onclick="generateActionPlan()">Generate My Action Plan</button>
                <button class="btn btn-secondary" onclick="saveProgress()">Save Progress</button>
                <button class="btn btn-danger" onclick="clearForm()">Start Over</button>
            </div>

            <div class="results-section" id="resultsSection">
                <h3>Your Intervention Plan Summary</h3>
                <div id="planSummary"></div>
            </div>
        </div>
    </div>

    <script>
        let selectedSeverity = '';
        let selectedIntervention = '';
        let warningFlags = [];

        // Severity selection
        document.querySelectorAll('.severity-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.severity-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                selectedSeverity = this.getAttribute('data-level');
                updateInterventionRecommendations();
            });
        });

        // Warning checklist
        document.querySelectorAll('#warningChecklist li').forEach(item => {
            item.addEventListener('click', function() {
                this.classList.toggle('checked');
                const warning = this.getAttribute('data-warning');
                if (this.classList.contains('checked')) {
                    if (!warningFlags.includes(warning)) {
                        warningFlags.push(warning);
                    }
                } else {
                    warningFlags = warningFlags.filter(w => w !== warning);
                }
                updateInterventionRecommendations();
            });
        });

        // Intervention selection
        document.querySelectorAll('.intervention-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.intervention-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                selectedIntervention = this.getAttribute('data-intervention');
                
                const interventionText = this.querySelector('h5').textContent + '\n\n' + 
                                       this.querySelector('p').textContent;
                document.getElementById('selectedIntervention').value = interventionText;
            });
        });

        function updateInterventionRecommendations() {
            // Highlight recommended interventions based on severity and warning flags
            const cards = document.querySelectorAll('.intervention-card');
            cards.forEach(card => {
                card.style.opacity = '0.7';
                card.style.transform = 'scale(0.98)';
            });

            let recommendedInterventions = [];
            
            if (selectedSeverity === 'low' && warningFlags.length === 0) {
                recommendedInterventions = ['informal-conversation'];
            } else if (selectedSeverity === 'medium' || warningFlags.length <= 2) {
                recommendedInterventions = ['formal-meeting', 'training'];
            } else if (selectedSeverity === 'high' || warningFlags.length > 2) {
                recommendedInterventions = ['policy-enforcement', 'mediation'];
            } else if (selectedSeverity === 'critical' || warningFlags.includes('intimidation') || warningFlags.includes('retaliation')) {
                recommendedInterventions = ['hr-escalation'];
            }

            recommendedInterventions.forEach(intervention => {
                const card = document.querySelector(`[data-intervention="${intervention}"]`);
                if (card) {
                    card.style.opacity = '1';
                    card.style.transform = 'scale(1)';
                    card.style.border = '3px solid #1a5f3f';
                }
            });
        }

        function generateActionPlan() {
            const situation = document.getElementById('situationDescription').value;
            const people = document.getElementById('peopleInvolved').value;
            const duration = document.getElementById('duration').value;
            const individualImpact = document.getElementById('individualImpact').value;
            const orgImpact = document.getElementById('organizationalImpact').value;
            const actions = document.getElementById('specificActions').value;
            const messages = document.getElementById('keyMessages').value;
            const resources = document.getElementById('resourcesNeeded').value;
            const immediate = document.getElementById('immediateFollowup').value;
            const shortTerm = document.getElementById('shortTermFollowup').value;
            const success = document.getElementById('successIndicators').value;

            if (!situation || !selectedSeverity || !selectedIntervention) {
                alert('Please complete the assessment and select an intervention strategy before generating your plan.');
                return;
            }

            const planSummary = `
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #1a5f3f; margin-bottom: 15px;">📋 INTERVENTION ACTION PLAN</h4>
                    
                    <div style="margin: 15px 0;">
                        <strong>Situation:</strong> ${situation.substring(0, 200)}${situation.length > 200 ? '...' : ''}
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>Severity Level:</strong> <span style="text-transform: capitalize; color: ${getSeverityColor(selectedSeverity)};">${selectedSeverity}</span>
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>Warning Flags:</strong> ${warningFlags.length} identified
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>Intervention Strategy:</strong> ${selectedIntervention.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>Immediate Actions:</strong> ${actions.substring(0, 200)}${actions.length > 200 ? '...' : ''}
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>Next Steps:</strong>
                        <ul style="margin-left: 20px;">
                            <li>Immediate follow-up: ${immediate || 'Not specified'}</li>
                            <li>Short-term check-in: ${shortTerm || 'Not specified'}</li>
                            <li>Success indicators: ${success.substring(0, 100)}${success.length > 100 ? '...' : ''}</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #f0f8f4; border-radius: 6px;">
                        <strong>⚠️ Remember:</strong> Document all interactions, maintain confidentiality, and escalate if the situation worsens or doesn't improve.
                    </div>
                </div>
            `;

            document.getElementById('planSummary').innerHTML = planSummary;
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        function getSeverityColor(severity) {
            const colors = {
                'low': '#28a745',
                'medium': '#ffc107',
                'high': '#dc3545',
                'critical': '#6f42c1'
            };
            return colors[severity] || '#6c757d';
        }

        function saveProgress() {
            const formData = {
                situation: document.getElementById('situationDescription').value,
                people: document.getElementById('peopleInvolved').value,
                duration: document.getElementById('duration').value,
                severity: selectedSeverity,
                warnings: warningFlags,
                intervention: selectedIntervention,
                // ... collect all form data
            };
            
            try {
                localStorage.setItem('interventionPlan', JSON.stringify(formData));
                alert('Your progress has been saved!');
            } catch(e) {
                alert('Unable to save progress in this browser.');
            }